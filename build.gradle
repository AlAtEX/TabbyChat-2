buildscript {
    repositories {
        mavenCentral()
        maven {
            name = "forge"
            url = "http://files.minecraftforge.net/maven"
        }
        maven {
            name = "sonatype"
            url = "https://oss.sonatype.org/content/repositories/snapshots/"
        }
        maven {
            // for the vanilla plugin
            name = "minecrell"
            url = "http://repo.minecrell.net/snapshots"
        }
    }
    dependencies {
        classpath 'net.minecrell:VanillaGradle:1.0.1-SNAPSHOT'
    }
}

apply plugin: 'net.minecrell.vanilla.base'

apply from: project(':MnM-Utils').file('gradle/minecraft.gradle')

archivesBaseName = "TabbyChat"
version = "$versionMajor.$versionMinor.$versionRevision-beta2-SNAPSHOT"
group = "mnm.mods"

// Replace the version string
minecraft.replace "@VERSION@", project.version

System.out.println()
System.out.println("$archivesBaseName $version for Minecraft ${minecraft.version}")
System.out.println()

dependencies {
    // Add util library
    compile project(':TabbyChat-API')
}
jar {
    from project(':TabbyChat-API').sourceSets.main.output
    from project(':TabbyChat-Forge').sourceSets.main.output
    manifest {
        attributes "ModType":"FML,LiteLoader"
        attributes "ModSide":"CLIENT"
    }
}
task jarDev(type:Jar) {
    from sourceSets.main.output
    from project(':TabbyChat-API').sourceSets.main.output
    from project(':TabbyChat-Forge').sourceSets.main.output

    classifier "dev"
}

artifacts.archives jarDev
